services:
  # CONFIGURACIÓN DEL BACKEND (Spring Boot)
  - type: web
    name: backend-vkr
    runtime: docker # Cambiamos a Docker ya que Java no aparecía en tu lista anterior
    rootDir: backend
    # Al usar Docker, el buildCommand y startCommand se definen en el Dockerfile,
    # pero si prefieres usar el entorno nativo de Render (si te aparece Java):
    # env: java
    # buildCommand: ./mvnw clean install -DskipTests
    # startCommand: java -jar target/*.jar
    envVars:
      - key: SPRING_PROFILES_ACTIVE
        value: prod

  # CONFIGURACIÓN DEL FRONTEND (React + Vite/Tailwind)
  - type: web # En Render, los sitios estáticos también usan el tipo 'web'
    name: frontend-vkr
    runtime: static # Aquí es donde se define que es un sitio estático
    rootDir: frontend
    buildCommand: npm install && npm run build
    publishPath: dist # dist para Vite, build para Create React App
    routes:
      - type: rewrite
        source: /*
        destination: /index.html